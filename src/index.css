:root {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  color-scheme: dark;
  color: #f5f5f5;
  background: #020617;
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  min-height: 100vh;
}

#root {
  min-height: 100vh;
}

.app-root {
  min-height: 100vh;
}

/* ===== AUTH MAGIC DOOR ===== */

.auth-wrapper {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px;
  position: relative;
  overflow: hidden;
  background:
    radial-gradient(circle at top, #1e2955 0%, #020617 55%),
    radial-gradient(circle at 80% 90%, rgba(236, 72, 153, 0.18), transparent 60%),
    radial-gradient(circle at 10% 20%, rgba(56, 189, 248, 0.16), transparent 60%);
  color: #e5e7eb;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

/* –∑–≤—ë–∑–¥–Ω–∞—è –ø—ã–ª—å –ø–æ–≤–µ—Ä—Ö —Ñ–æ–Ω–∞ */
.auth-stars-layer {
  position: absolute;
  inset: -50px;
  pointer-events: none;
  opacity: 0.4;
  background-image:
    radial-gradient(2px 2px at 20% 30%, rgba(248, 250, 252, 0.8), transparent),
    radial-gradient(1.5px 1.5px at 70% 10%, rgba(248, 250, 252, 0.7), transparent),
    radial-gradient(2px 2px at 80% 70%, rgba(248, 250, 252, 0.9), transparent),
    radial-gradient(1px 1px at 30% 80%, rgba(248, 250, 252, 0.6), transparent);
  animation: auth-stars-move 40s linear infinite;
  z-index: 0;
}

@keyframes auth-stars-move {
  0% {
    transform: translate3d(0, 0, 0);
  }
  100% {
    transform: translate3d(-60px, -30px, 0);
  }
}

.auth-scene {
  position: relative;
  z-index: 1;
  max-width: 920px;
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–∞–¥ –¥–≤–µ—Ä—å—é */
.auth-header {
  text-align: center;
  max-width: 620px;
  margin: 0 auto 4px;
}

.auth-title {
  margin: 0 0 8px;
  font-size: clamp(24px, 3vw, 32px);
  letter-spacing: 0.04em;
  text-transform: none;
  color: #e5e7ff;
  text-shadow: 0 0 18px rgba(129, 140, 248, 0.5);
}

.auth-subtitle {
  margin: 0;
  font-size: 14px;
  line-height: 1.5;
  color: #cbd5f5;
}

/* –û—Å–Ω–æ–≤–Ω–∞—è –∑–æ–Ω–∞ —Å –¥–≤–µ—Ä—å—é –∏ –±–æ–∫–æ–≤—ã–º —Ç–µ–∫—Å—Ç–æ–º */
.auth-door-layout {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 20px;
  margin-top: 8px;
}


/* —Å–≤–µ—Ç—è—â–∏–π—Å—è –æ—Ä–µ–æ–ª –≤–æ–∫—Ä—É–≥ –¥–≤–µ—Ä–∏ */
.auth-door-glow {
  position: absolute;
  left: 50%;
  top: 52%;
  transform: translate(-50%, -50%);
  width: 420px;
  max-width: 90vw;
  aspect-ratio: 1 / 1;
  background: radial-gradient(circle, rgba(129, 140, 248, 0.45), transparent 65%);
  filter: blur(8px);
  opacity: 0.7;
  pointer-events: none;
  animation: auth-door-pulse 6s ease-in-out infinite;
  z-index: 0;
}

@keyframes auth-door-pulse {
  0%,
  100% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.5;
  }
  50% {
    transform: translate(-50%, -50%) scale(1.06);
    opacity: 0.9;
  }
}

/* –†–∞–º–∫–∞ –¥–≤–µ—Ä–∏: —Å–∞–º–∞ –¥–≤–µ—Ä—å + —Ñ–æ—Ä–º–∞ –ø–æ–≤–µ—Ä—Ö */
.auth-door-frame {
  position: relative;
  margin: 0 auto;
  width: min(420px, 100%);
  aspect-ratio: 3 / 4;
  border-radius: 24px;
  overflow: hidden;
  background-image: url('./assets/magic-door.png'); /* <-- –ó–î–ï–°–¨ –ü–û–î–°–¢–ê–í–¨ –°–í–û–ô –ü–£–¢–¨ –ö –ö–ê–†–¢–ò–ù–ö–ï –î–í–ï–†–ò */
  background-size: cover;
  background-position: center;
  box-shadow:
    0 20px 50px rgba(0, 0, 0, 0.75),
    0 0 0 1px rgba(148, 163, 255, 0.35);
  backdrop-filter: blur(2px);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è "—Ç–∞–±–ª–∏—á–∫–∞" —Å —Ñ–æ—Ä–º–æ–π –ø—Ä—è–º–æ –Ω–∞ –¥–≤–µ—Ä—è—Ö */
.auth-door-form {
  position: relative;
  width: 80%;
  max-width: 320px;
}

.auth-door-form-inner {
  padding: 14px 16px 16px;
  border-radius: 18px;
  background: radial-gradient(circle at top, rgba(15, 23, 42, 0.84), rgba(15, 23, 42, 0.95));
  border: 1px solid rgba(203, 213, 255, 0.5);
  box-shadow:
    0 8px 22px rgba(15, 23, 42, 0.9),
    0 0 0 1px rgba(129, 140, 248, 0.4);
}

/* –ï—Å–ª–∏ –¥–æ–±–∞–≤–∏—à—å PNG –∫–æ—Ç–∞, —ç—Ç–∞ –ø–æ–∑–∏—Ü–∏—è "—É –ø–æ—Ä–æ–≥–∞" */
.auth-door-cat {
  position: absolute;
  bottom: -4px;
  left: 10px;
  width: 110px;
  transform: translateY(10%);
  filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.8));
  pointer-events: none;
}

/* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç —Å–ø—Ä–∞–≤–∞ –æ—Ç –¥–≤–µ—Ä–∏ */
.auth-door-side-text {
  font-size: 14px;
  line-height: 1.6;
  color: #d1ddff;
  max-width: 360px;
  text-align: center;
}


.auth-door-side-text span {
  font-style: italic;
  color: #f9a8d4;
}

/* –ü–æ–ª—è —Ñ–æ—Ä–º—ã */
.auth-label {
  display: flex;
  flex-direction: column;
  font-size: 12px;
  gap: 4px;
  color: #e5e7ff;
}

.auth-label + .auth-label {
  margin-top: 10px;
}

.auth-input {
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid rgba(148, 163, 255, 0.7);
  background: rgba(15, 23, 42, 0.92);
  color: #f9fafb;
  font-size: 13px;
  transition: border-color 0.18s ease, box-shadow 0.18s ease, background 0.18s ease;
}

.auth-input::placeholder {
  color: rgba(199, 210, 254, 0.78);
}

.auth-input:focus {
  outline: none;
  border-color: #e5b3ff;
  box-shadow:
    0 0 0 1px rgba(244, 114, 182, 0.8),
    0 0 16px rgba(244, 114, 182, 0.55);
  background: rgba(15, 23, 42, 0.98);
}

/* –ö–Ω–æ–ø–∫–∞ "–ü–æ–≤–µ—Ä–Ω—É—Ç—å –∫–ª—é—á" */
.auth-button {
  margin-top: 12px;
  width: 100%;
  padding: 9px 12px;
  border-radius: 999px;
  border: none;
  background-image: linear-gradient(135deg, #f97316, #facc15);
  color: #111827;
  font-weight: 600;
  font-size: 14px;
  cursor: pointer;
  letter-spacing: 0.03em;
  text-transform: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  box-shadow:
    0 10px 24px rgba(0, 0, 0, 0.85),
    0 0 0 1px rgba(251, 191, 36, 0.8);
  transition: transform 0.14s ease, box-shadow 0.14s ease, filter 0.14s ease, opacity 0.14s ease;
}

.auth-button::after {
  content: 'üóùÔ∏è';
  font-size: 15px;
}

.auth-button:hover {
  transform: translateY(-1px);
  filter: brightness(1.05);
  box-shadow:
    0 14px 32px rgba(0, 0, 0, 0.9),
    0 0 18px rgba(250, 204, 21, 0.9);
}

.auth-button:active {
  transform: translateY(0);
  box-shadow:
    0 8px 16px rgba(0, 0, 0, 0.9),
    0 0 12px rgba(250, 204, 21, 0.7);
}

/* –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å "—è –∑–¥–µ—Å—å –≤–ø–µ—Ä–≤—ã–µ / —É –º–µ–Ω—è —É–∂–µ –µ—Å—Ç—å –∫–æ–¥" */
.auth-switch {
  margin: 10px auto 0;
  border: none;
  background: transparent;
  color: #a5b4fc;
  font-size: 13px;
  cursor: pointer;
  text-decoration: underline;
  text-underline-offset: 3px;
  transition: color 0.15s ease, opacity 0.15s ease;
  display: block;
}

.auth-switch:hover {
  color: #c7d2fe;
  opacity: 1;
}

/* ===== HOME + –§–û–ù ===== */

.home-wrapper {
  position: relative;
  min-height: 100vh;
  padding: 16px 16px 32px;
  display: flex;
  flex-direction: column;
  overflow: hidden;

  background-size: cover;
  background-position: center bottom;
  background-repeat: no-repeat;
  background-color: #020617;
}

/* –∑–∞—Ç–µ–º–Ω—è—é—â–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç –ø–æ–≤–µ—Ä—Ö —Ñ–æ–Ω–∞ */
.home-wrapper::before,
.home-wrapper::after {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

.home-wrapper::before {
  background: radial-gradient(
    circle at top,
    rgba(15, 23, 42, 0.4),
    rgba(15, 23, 42, 0.9)
  );
}

/* –ª—ë–≥–∫–∏–µ —Å–Ω–µ–∂–∏–Ω–∫–∏ –ø–æ–≤–µ—Ä—Ö */
.home-wrapper::after {
  background-image:
    radial-gradient(
      2px 2px at 20px 20px,
      rgba(255, 255, 255, 0.7) 50%,
      transparent 50%
    ),
    radial-gradient(
      3px 3px at 100px 40px,
      rgba(255, 255, 255, 0.9) 50%,
      transparent 50%
    ),
    radial-gradient(
      2px 2px at 160px 120px,
      rgba(255, 255, 255, 0.8) 50%,
      transparent 50%
    );
  background-size: 220px 220px;
  opacity: 0.6;
  animation: snow-fall 18s linear infinite;
}

@keyframes snow-fall {
  0% {
    transform: translateY(-10%);
  }
  100% {
    transform: translateY(10%);
  }
}

/* –≤—Å–µ —Ä–µ–∞–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–≤–µ—Ä—Ö —Å–ª–æ—ë–≤ */
.home-logout,
.home-header-card,
.home-info-card,
.home-sky-layer {
  position: relative;
  z-index: 1;
}

/* –∫–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞ –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É */
.home-logout {
  position: absolute;
  top: 16px;
  right: 16px;
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 255, 0.7);
  padding: 6px 14px;
  background: rgba(15, 23, 42, 0.8);
  color: #e5e7eb;
  font-size: 13px;
  cursor: pointer;
  backdrop-filter: blur(6px);
}

.home-logout:hover {
  background: rgba(30, 64, 175, 0.9);
}

/* —Å–ª–æ–π –Ω–µ–±–∞ –¥–ª—è —Å–æ–∑–≤–µ–∑–¥–∏—è */
.home-sky-layer {
  position: absolute;
  top: 6%;
  right: 6%;
  width: 45%;
  height: 40%;
  pointer-events: none; /* –∫–ª–∏–∫–∏ —Ç–æ–ª—å–∫–æ –ø–æ –∫–Ω–æ–ø–∫–∞–º –≤–Ω—É—Ç—Ä–∏ */
}

@media (max-width: 768px) {
  .home-sky-layer {
    top: 10%;
    right: 8%;
    width: 55%;
    height: 35%;
  }
}

/* –∫–∞—Ä—Ç–æ—á–∫–∞ "–ü—Ä–∏–≤–µ—Ç, ..." */

.home-header-card {
  position: absolute;
  right: 6%;
  bottom: 7%;
  padding: 12px 16px;
  border-radius: 18px;
  background: rgba(15, 23, 42, 0.78);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(148, 163, 255, 0.6);
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 4px;
  max-width: 260px;
}

.home-greeting {
  font-size: 18px;
  font-weight: 600;
}

.home-subtitle {
  font-size: 13px;
  color: #cbd5f5;
}

/* –∫–∞—Ä—Ç–æ—á–∫–∞ "–ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–∞ —Å–∫–∞–∑–∫–∞" */

.home-info-card {
  position: absolute;
  left: 6%;
  bottom: 7%;
  max-width: 320px;
  padding: 14px 16px;
  border-radius: 18px;
  background: rgba(15, 23, 42, 0.8);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(148, 163, 255, 0.55);
  font-size: 14px;
  color: #e5e7eb;
  box-shadow: 0 14px 35px rgba(15, 23, 42, 0.9);
}

.home-info-title {
  margin: 0 0 8px;
  font-size: 16px;
}

@media (max-width: 768px) {
  .home-header-card,
  .home-info-card {
    position: static;
    margin-top: auto;
    margin-bottom: 6px;
  }

  .home-wrapper {
    padding: 16px 12px 20px;
  }
}

/* ===== –ó–í–Å–ó–î–´: –ò–ö–û–ù–ö–ê –í –ù–ï–ë–ï ===== */

.star-map {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: visible;
}

/* –∑–æ–Ω–∞ –∫–ª–∏–∫–∞ –∑–≤–µ–∑–¥—ã */
.star {
  position: absolute;
  transform: translate(-50%, -50%);
  width: 48px;
  height: 48px;
  border: none;
  padding: 0;
  outline: none;
  background: transparent;
  cursor: pointer;
  pointer-events: auto;
}

/* —Å–∞–º–∞ –∫–∞—Ä—Ç–∏–Ω–∫–∞ –∑–≤–µ–∑–¥—ã */
.star-img {
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
  opacity: 0.9;
  filter: drop-shadow(0 0 10px rgba(251, 191, 36, 0.9))
    drop-shadow(0 0 20px rgba(129, 140, 248, 0.85));
  transform: scale(1);
  transition:
    opacity 0.2s ease,
    transform 0.2s ease,
    filter 0.2s ease;
}

/* --- –°–û–°–¢–û–Ø–ù–ò–Ø --- */

/* –µ—â—ë –∑–∞–∫—Ä—ã—Ç–∞—è –∑–≤–µ–∑–¥–∞ ‚Äî —Ç—É—Å–∫–ª–µ–µ, —Å–ª–µ–≥–∫–∞ "–¥–∞–ª–µ–∫–∞—è" */
.star--locked {
  cursor: default;
}

.star--locked .star-img {
  opacity: 0.4;
  filter: grayscale(0.2)
    drop-shadow(0 0 4px rgba(148, 163, 184, 0.7));
}

/* –¥–æ—Å—Ç—É–ø–Ω–∞—è ‚Äî –Ω–æ—Ä–º–∞–ª—å–Ω–∞—è —è—Ä–∫–æ—Å—Ç—å */
.star--available .star-img {
  opacity: 1;
}

/* –Ω–æ–≤–∞—è (—Å–µ–≥–æ–¥–Ω—è, –µ—â—ë –Ω–µ –æ—Ç–∫—Ä—ã—Ç–∞) ‚Äî –º—è–≥–∫–æ –ø—É–ª—å—Å–∏—Ä—É–µ—Ç */
.star--new .star-img {
  animation: starPulse 2.4s ease-in-out infinite;
}

@keyframes starPulse {
  0% {
    transform: scale(0.92);
    filter: drop-shadow(0 0 8px rgba(251, 191, 36, 0.8))
      drop-shadow(0 0 16px rgba(129, 140, 248, 0.7));
  }
  50% {
    transform: scale(1.12);
    filter: drop-shadow(0 0 14px rgba(251, 191, 36, 1))
      drop-shadow(0 0 28px rgba(129, 140, 248, 0.95));
  }
  100% {
    transform: scale(0.92);
    filter: drop-shadow(0 0 8px rgba(251, 191, 36, 0.8))
      drop-shadow(0 0 16px rgba(129, 140, 248, 0.7));
  }
}

/* –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω–∞—è ‚Äî —Å–≤–µ—Ç –µ—Å—Ç—å, –Ω–æ –±–æ–ª–µ–µ —Å–ø–æ–∫–æ–π–Ω—ã–π */
.star--read .star-img {
  opacity: 0.7;
  filter: drop-shadow(0 0 6px rgba(251, 191, 36, 0.7))
    drop-shadow(0 0 14px rgba(129, 140, 248, 0.7));
}

/* —Å–µ–≥–æ–¥–Ω—è—à–Ω—è—è ‚Äî —á—É—Ç—å –º–æ—â–Ω–µ–µ —Å–∏—è–µ—Ç */
.star--today.star--available .star-img {
  filter: drop-shadow(0 0 14px rgba(251, 191, 36, 1))
    drop-shadow(0 0 30px rgba(129, 140, 248, 1));
}

/* hover —Ç–æ–ª—å–∫–æ –¥–ª—è –¥–æ—Å—Ç—É–ø–Ω—ã—Ö */
.star.star--available:hover .star-img {
  transform: scale(1.08);
}

/* ===== –ú–û–î–ê–õ–ö–ò (–ë–ê–ó–ê) ===== */

.modal-overlay {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle at top, rgba(15, 23, 42, 0.96), rgba(15, 23, 42, 0.99));
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px;
  z-index: 50;
}

.modal-card {
  max-width: 720px;
  width: 100%;
  max-height: 90vh;
  background: rgba(15, 23, 42, 0.98);
  border-radius: 24px;
  padding: 20px;
  border: 1px solid rgba(148, 163, 255, 0.6);
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.9);
  display: flex;
  flex-direction: column;
}

/* ========================================= */
/*          –°–¶–ï–ù–ê –° –í–û–õ–®–ï–ë–ù–´–ú –ö–û–¢–û–ú          */
/* ========================================= */

@import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&family=Comfortaa:wght@600&display=swap');

/* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –º–æ–¥–∞–ª–∫–∏ */
@keyframes scenePop {
  0% { opacity: 0; transform: scale(0.9) translateY(20px); }
  100% { opacity: 1; transform: scale(1) translateY(0); }
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–µ–Ω–∏—è —Å–Ω–µ–≥–∞ */
@keyframes snowfall {
  0% { transform: translateY(-20px) translateX(-5px); opacity: 0; }
  20% { opacity: 1; }
  100% { transform: translateY(110%) translateX(5px); opacity: 0; }
}

/* –î—ã—Ö–∞–Ω–∏–µ –∫–æ—Ç–∞ */
@keyframes catFloat {
  0%, 100% { transform: translateY(0) scale(1); }
  50% { transform: translateY(-5px) scale(1.02); }
}

/* –û–≤–µ—Ä–ª–µ–π: –¢–µ–º–Ω–∞—è –º–∞–≥–∏—á–µ—Å–∫–∞—è –Ω–æ—á—å */
.scene-overlay {
  background: rgba(8, 10, 20, 0.85);
  backdrop-filter: blur(8px);
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* –ö–∞—Ä—Ç–æ—á–∫–∞ —Å—Ü–µ–Ω—ã */
.scene-card {
  width: 95%;
  max-width: 800px;
  min-height: 450px;
  background: linear-gradient(135deg, #1a1c2e 0%, #0f1016 100%);
  border-radius: 24px;
  /* –ó–æ–ª–æ—Ç–∞—è –æ–±–≤–æ–¥–∫–∞ */
  box-shadow: 
    0 0 0 1px rgba(255, 215, 0, 0.2), 
    0 20px 50px rgba(0, 0, 0, 0.7);
  overflow: hidden;
  display: grid;
  grid-template-columns: 280px 1fr; /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –¥–ª—è –∫–æ—Ç–∞ */
  animation: scenePop 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* --- –õ–ï–í–ê–Ø –ß–ê–°–¢–¨: –í–ò–î –ò–ó –û–ö–ù–ê --- */
.scene-visual-area {
  position: relative;
  background: linear-gradient(to bottom, #0f2027, #203a43, #2c5364); /* –ù–æ—á–Ω–æ–µ –Ω–µ–±–æ */
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  border-right: 1px solid rgba(255, 255, 255, 0.1);
}

/* –õ—É–Ω–∞ –Ω–∞ —Ñ–æ–Ω–µ */
.scene-moon {
  position: absolute;
  top: -20px;
  right: -20px;
  width: 150px;
  height: 150px;
  background: radial-gradient(circle, rgba(255,255,230,0.8), rgba(255,255,255,0));
  filter: blur(20px);
  opacity: 0.4;
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–Ω–µ–∂–∏–Ω–æ–∫ */
.snow-container {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.snowflake {
  position: absolute;
  top: -20px;
  color: #fff;
  opacity: 0;
  font-size: 14px;
  text-shadow: 0 0 5px white;
  animation: snowfall linear infinite;
}

/* –†–∞–Ω–¥–æ–º–∏–∑–∞—Ü–∏—è —Å–Ω–µ–∂–∏–Ω–æ–∫ —á–µ—Ä–µ–∑ CSS child */
.snowflake:nth-child(1) { left: 10%; animation-duration: 4s; animation-delay: 0s; font-size: 10px; }
.snowflake:nth-child(2) { left: 25%; animation-duration: 6s; animation-delay: 1s; font-size: 14px; }
.snowflake:nth-child(3) { left: 40%; animation-duration: 5s; animation-delay: 2s; font-size: 12px; }
.snowflake:nth-child(4) { left: 60%; animation-duration: 7s; animation-delay: 0.5s; font-size: 16px; }
.snowflake:nth-child(5) { left: 80%; animation-duration: 4.5s; animation-delay: 3s; font-size: 11px; }
.snowflake:nth-child(6) { left: 90%; animation-duration: 5.5s; animation-delay: 1.5s; font-size: 13px; }
/* ... –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –µ—â–µ */

.scene-cat-wrapper {
  position: relative;
  z-index: 2;
  animation: catFloat 3s ease-in-out infinite;
}

.scene-cat {
  font-size: 90px;
  filter: drop-shadow(0 10px 20px rgba(0,0,0,0.5));
}

.scene-location-hint {
  position: absolute;
  bottom: 20px;
  font-family: 'Comfortaa', sans-serif;
  font-size: 11px;
  color: rgba(169, 218, 255, 0.6);
  text-transform: uppercase;
  letter-spacing: 2px;
}

/* --- –ü–†–ê–í–ê–Ø –ß–ê–°–¢–¨: –ò–ù–¢–ï–†–§–ï–ô–° --- */
.scene-content-area {
  padding: 30px;
  display: flex;
  flex-direction: column;
  background: rgba(255, 255, 255, 0.02); /* –ï–¥–≤–∞ –∑–∞–º–µ—Ç–Ω—ã–π —Å–ª–æ–π */
}

.scene-header {
  margin-bottom: 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  padding-bottom: 10px;
}

.scene-title {
  font-family: 'Comfortaa', cursive;
  font-size: 14px;
  color: #fbbf24; /* –ó–æ–ª–æ—Ç–æ–π */
  text-transform: uppercase;
  letter-spacing: 1px;
  display: flex;
  align-items: center;
  gap: 8px;
}
.scene-title::before {
  content: '';
  display: block;
  width: 8px;
  height: 8px;
  background: #fbbf24;
  border-radius: 50%;
  box-shadow: 0 0 10px #fbbf24;
}

.scene-text-box {
  flex-grow: 1;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 24px;
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.scene-text-box p {
  margin: 0;
  font-family: 'Nunito', sans-serif;
  font-size: 17px;
  line-height: 1.6;
  color: #e2e8f0;
}

/* –ö–Ω–æ–ø–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤ */
.scene-options {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.scene-option-button {
  width: 100%;
  padding: 14px 20px;
  border-radius: 12px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  background: linear-gradient(90deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0) 100%);
  color: #cbd5e1;
  font-family: 'Nunito', sans-serif;
  font-size: 15px;
  text-align: left;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 12px;
  position: relative;
  overflow: hidden;
}

.btn-icon {
  font-size: 14px;
  opacity: 0.7;
}

/* –•–æ–≤–µ—Ä —ç—Ñ—Ñ–µ–∫—Ç –¥–ª—è –∫–Ω–æ–ø–æ–∫: –ü–æ–¥—Å–≤–µ—Ç–∫–∞ */
.scene-option-button:hover {
  background: linear-gradient(90deg, rgba(251, 191, 36, 0.15) 0%, rgba(0,0,0,0) 100%);
  border-color: rgba(251, 191, 36, 0.5); /* –ó–æ–ª–æ—Ç–∞—è —Ä–∞–º–∫–∞ */
  color: #fbbf24; /* –ó–æ–ª–æ—Ç–æ–π —Ç–µ–∫—Å—Ç */
  transform: translateX(5px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

.scene-option-button:active {
  transform: scale(0.98);
}

/* –ê–¥–∞–ø—Ç–∏–≤ –¥–ª—è –º–æ–±–∏–ª–æ–∫ */
@media (max-width: 768px) {
  .scene-card {
    grid-template-columns: 1fr;
    min-height: auto;
    width: 90%;
  }

  .scene-visual-area {
    height: 160px; /* –£–º–µ–Ω—å—à–∞–µ–º –≤—ã—Å–æ—Ç—É –æ–±–ª–∞—Å—Ç–∏ –∫–æ—Ç–∞ */
    border-right: none;
    border-bottom: 1px solid rgba(255,255,255,0.1);
  }

  .scene-cat {
    font-size: 60px;
  }
  
  .scene-moon {
    width: 100px;
    height: 100px;
  }

  .scene-content-area {
    padding: 20px;
  }
  
  .scene-text-box {
    padding: 15px;
  }
  
  .scene-text-box p {
    font-size: 15px;
  }
}

/* ============================================================ */
/*           STARRY MAGIC LETTER (LETTER IN THE SKY)            */
/* ============================================================ */

@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400;1,600&family=Great+Vibes&display=swap');

:root {
  --ink-color: #f9fafb;
  --accent-gold: #facc6b;
}

/* --- –ê–Ω–∏–º–∞—Ü–∏–∏ --- */
@keyframes fadeInOverlay {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

@keyframes floatInLetter {
  0% {
    transform: translateY(20px) scale(0.96);
    opacity: 0;
  }
  100% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
}

/* --- –û–≤–µ—Ä–ª–µ–π –º–æ–¥–∞–ª–∫–∏ --- */
.letter-overlay {
  position: fixed;
  inset: 0;
  z-index: 10000;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
  background: radial-gradient(circle at top, rgba(15, 23, 42, 0.95), rgba(2, 6, 23, 0.96));
  backdrop-filter: blur(8px);
  animation: fadeInOverlay 0.4s ease-out;
}

/* --- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä (–¥–ª—è —Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è) --- */
.letter-container {
  width: 100%;
  max-width: 820px;
  display: flex;
  justify-content: center;
}

/* --- –ö–∞—Ä—Ç–æ—á–∫–∞ –ø–∏—Å—å–º–∞ —Å —Ñ–æ–Ω–æ–º –∑–≤—ë–∑–¥–Ω–æ–≥–æ –Ω–µ–±–∞ –∏ —Å–≤–µ—Ç—è—â–µ–≥–æ—Å—è –ª–∏—Å—Ç–∞ --- */
.letter-paper {
  position: relative;
  width: 100%;
  aspect-ratio: 16 / 9;
  border-radius: 24px;
  overflow: hidden;
  /* –¢–≤–æ–π —Ñ–æ–Ω: –∑–≤—ë–∑–¥–Ω–æ–µ –Ω–µ–±–æ + —Å–≤–µ—Ç—è—â–µ–µ—Å—è –ø–∏—Å—å–º–æ */
  background-image:
    radial-gradient(circle at center, rgba(15, 23, 42, 0.68), rgba(15, 23, 42, 0.1) 55%, transparent 90%),
    url('./assets/star-letter-bg.png');
  background-size: cover;
  background-position: center;
  box-shadow:
    0 25px 70px rgba(0, 0, 0, 0.9),
    0 0 0 1px rgba(148, 163, 255, 0.45);
  animation: floatInLetter 0.8s cubic-bezier(0.22, 1, 0.36, 1);
  color: var(--ink-color);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* –õ—ë–≥–∫–∏–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –æ—Ä–µ–æ–ª/—Ä–∞–º–∫–∞ */
.letter-paper::before {
  content: '';
  position: absolute;
  inset: 10px;
  border-radius: 20px;
  border: 1px solid rgba(248, 250, 252, 0.25);
  box-shadow:
    0 0 25px rgba(248, 250, 252, 0.16),
    inset 0 0 40px rgba(15, 23, 42, 0.5);
  pointer-events: none;
}

/* –ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ–≤–µ—Ä—Ö —Ñ–æ–Ω–∞ */
.letter-content {
  position: relative;
  z-index: 2;
  width: min(80%, 620px);
  max-height: 80%;
  display: flex;
  flex-direction: column;
  padding: 28px 32px 26px;
  border-radius: 18px;
  background: radial-gradient(circle at top, rgba(15, 23, 42, 0.85), rgba(15, 23, 42, 0.7));
  box-shadow:
    0 14px 40px rgba(0, 0, 0, 0.9),
    0 0 0 1px rgba(148, 163, 255, 0.4);
}

/* –ó–≤—ë–∑–¥–æ—á–∫–∞ —Å–≤–µ—Ä—Ö—É (–¥–µ–∫–æ—Ä, –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) */
.letter-star-icon {
  position: absolute;
  top: 14px;
  right: 18px;
  font-size: 20px;
  opacity: 0.9;
}

/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫ */
.letter-header {
  text-align: center;
  margin-bottom: 18px;
}

.letter-title {
  margin: 0;
  font-family: 'Great Vibes', cursive;
  font-size: clamp(30px, 4vw, 40px);
  line-height: 1.2;
  color: #fefce8;
  text-shadow: 0 0 16px rgba(250, 250, 210, 0.4);
}

.letter-subtitle {
  margin-top: 6px;
  font-family: 'Cinzel', serif;
  font-size: 10px;
  letter-spacing: 3px;
  text-transform: uppercase;
  color: rgba(226, 232, 255, 0.8);
  display: inline-block;
  padding-bottom: 4px;
  border-bottom: 1px solid rgba(226, 232, 255, 0.4);
}

/* –¢–µ–ª–æ –ø–∏—Å—å–º–∞ (–ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –ø—Ä–∏ –¥–ª–∏–Ω–Ω–æ–º —Ç–µ–∫—Å—Ç–µ) */
.letter-body-scroll {
  flex: 1;
  overflow-y: auto;
  margin-top: 4px;
  margin-bottom: 18px;
  padding-right: 8px;
  scrollbar-width: thin;
  scrollbar-color: rgba(186, 230, 253, 0.7) transparent;
}

.letter-body-scroll::-webkit-scrollbar {
  width: 4px;
}

.letter-body-scroll::-webkit-scrollbar-thumb {
  background: rgba(186, 230, 253, 0.9);
  border-radius: 999px;
}

/* –°–∞–º —Ç–µ–∫—Å—Ç –ø–∏—Å—å–º–∞ */
.letter-text {
  font-family: 'Cormorant Garamond', serif;
  font-size: 19px;
  line-height: 1.7;
  color: var(--ink-color);
  white-space: pre-line; /* —É—á–∏—Ç—ã–≤–∞–µ–º \n */
}

/* –ë—É–∫–≤–∏—Ü–∞ */
.letter-text::first-letter {
  float: left;
  font-family: 'Great Vibes', cursive;
  font-size: 54px;
  line-height: 46px;
  padding-right: 8px;
  color: #facc15;
}

/* –§—É—Ç–µ—Ä –∏ –∫–Ω–æ–ø–∫–∞ */
.letter-footer {
  text-align: center;
  margin-top: 6px;
}

.letter-decoration {
  display: block;
  font-size: 20px;
  color: var(--accent-gold);
  opacity: 0.7;
  margin-bottom: 10px;
}

.close-btn {
  background: transparent;
  border: none;
  font-family: 'Cinzel', serif;
  font-size: 11px;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: rgba(226, 232, 255, 0.85);
  cursor: pointer;
  padding: 8px 20px;
  position: relative;
  overflow: hidden;
  transition: color 0.25s ease, transform 0.25s ease;
}

.close-btn::after {
  content: '';
  position: absolute;
  left: 50%;
  bottom: 4px;
  width: 28px;
  height: 1px;
  background: rgba(226, 232, 255, 0.9);
  transform: translateX(-50%);
  transition: width 0.25s ease;
}

.close-btn:hover {
  transform: translateY(-1px);
  color: #e0f2fe;
}

.close-btn:hover::after {
  width: 100%;
}

/* –ê–¥–∞–ø—Ç–∏–≤ */
@media (max-width: 640px) {
  .letter-paper {
    aspect-ratio: auto;
  }

  .letter-content {
    width: 100%;
    padding: 20px 18px 18px;
    border-radius: 16px;
  }

  .letter-title {
    font-size: 28px;
  }

  .letter-text {
    font-size: 17px;
  }
}